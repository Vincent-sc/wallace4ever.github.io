---
title: 【剑指】3.4 代码的鲁棒性
date: 2020-05-14
tags: 
    - 链表
categories:
    - 剑指Offer
---

::: tip
鲁棒性要求程序对特殊的、错误的输入能作出适当的处理。防御性编程是一种好的编程习惯，在看到问题时，要多问几个“如果不……那么会怎么样”，而链表相关的问题总有大量的指针操作，往往是容易出错的。
:::

<!-- more -->

> **反转给定链表，链表为单向。**

注意输入为空指针或链表只有一个节点时的情况，同时注意三个指针在初始和结束情况下的状态。

```java
public ListNode ReverseList(ListNode head) {
    //防御型编程
    if (head==null||head.next==null)
        return head;
    ListNode pre=null,cur=head,post=cur.next;
    while (post != null) {
        //开始反转
        cur.next=pre;
        //移动三个指针
        pre=cur;
        cur=post;
        post=post.next;
    }
    //最后一次移动后post指向末尾节点的next，cur指向末尾节点，pre指向倒数第二个节点，此时还需要做一次反转
    cur.next=pre;
    return cur;
}
```

要注意临界情况，如开始移动和停止移动时三个指针的指向情况与它们指向节点的next指向。

未完待续